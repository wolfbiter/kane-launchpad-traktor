<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>MidiMasher Documentation</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />

<style>
H1
{
	display:block;
	margin:0px;
	padding:0px;
	width:100%;
	height:auto;
	background:#6060B0;
	border-bottom:1px solid;
	border-color:#000;
	color:white;
	font-size: 18px;
	padding:5px 5px 5px 5px;
	font-family: Helvetica, Arial, sans-serif;
	font-weight:bold;
}

H2
{
	display:block;
	margin:0px;
	padding:0px;
	width:100%;
	height:auto;
	background:#D0D0FF;
	border-bottom:1px solid;
	border-color:#000;
	color:white;
	font-size: 16px;
	padding:5px 5px 5px 5px;
	font-family: Helvetica, Arial, sans-serif;
	font-weight:bold;
}


H3
{
	margin:0px;
	padding:0px;
	height:auto;
	background:#F0F0FF;
	border-bottom:1px solid;
	border-color:#E0E0E0;
	color:#404080;
	font-size: 16px;
	padding:5px 5px 5px 5px;
	font-family: Helvetica, Arial, sans-serif;
	font-weight:bold;
}

H4
{
	margin:0px;
	padding:0px;
	height:auto;
	color:#40a;
	font-size: 14px;
	padding:5px 5px 5px 5px;
	font-family: Helvetica, Arial, sans-serif;
	font-weight:bold;
}

CODE
{
	font-size: 16px;
}

TT
{
	font-size: 16px;
}

BODY {
  background: white;
  color: black;
  font-family: arial,sans-serif;
  margin: 0;
  padding: 1ex;
}
TABLE {
  border-collapse: collapse;
  border-spacing: 0;
  border-width: 0;
  color: inherit;
}
IMG { border: 0; }
FORM { margin: 0; }
input { margin: 2px; }
A.fred {
  text-decoration: none;
}
A:link, A:visited {
  background: transparent;
  color: #006699;
}
TD {
  margin: 0;
  padding: 0;
}
DIV {
  border-width: 0;
}
DT {
  margin-top: 1em;
}
TH {
  /*background: #bbbbbb;*/
  color: inherit;
  padding: 0.4ex 1ex;
  text-align: left;
}
TH A:link, TH A:visited {
  background: transparent;
  color: black;
}
A.m:link, A.m:visited {
  background: #006699;
  color: white;
  font: bold 10pt Arial,Helvetica,sans-serif;
  text-decoration: none;
}
A.o:link, A.o:visited {
  background: #006699;
  color: #ccffcc;
  font: bold 10pt Arial,Helvetica,sans-serif;
  text-decoration: none;
}
A.o:hover {
  background: transparent;
  color: #ff6600;
  text-decoration: underline;
}
A.m:hover {
  background: transparent;
  color: #ff6600;
  text-decoration: underline;
}
table.dlsip     {
  background: #dddddd;
  border: 0.4ex solid #dddddd;
}
PRE     {
  background: #eeeeee;
  border: 1px solid #888888;
  color: black;
  padding-top: 1em;
  white-space: pre;
}
IMG     {
  vertical-align: top;
}
A  {
  text-decoration: none;
}
LI {
  line-height: 1.2em;
  list-style-type: none;
}

usage th { background-color: white }
usage td { background-color: white }
usage * param { color: #ccc }

</style></head>

<body style="background-color: white">
<h1><a style='color:white'href="http://midimasher.djism.com/">Home</a> :: <a href='index.html' style='color:white'>MidiMasher Documentation</a> : lib/traktor.lua</h1>


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#traktor_hotcue__"><code>traktor.hotcue()</code></a></li>
	

	<li><a href="#traktor_hotcues__"><code>traktor.hotcues()</code></a></li>
	

	<li><a href="#traktor_loops__"><code>traktor.loops()</code></a></li>
	

	<li><a href="#traktor_slicer_enable__"><code>traktor.slicer_enable()</code></a></li>
	

	<li><a href="#traktor_slicer_disable__"><code>traktor.slicer_disable()</code></a></li>
	

	<li><a href="#traktor_slicer_toggle__"><code>traktor.slicer_toggle()</code></a></li>
	

	<li><a href="#traktor_slicer_loop_toggle__"><code>traktor.slicer_loop_toggle()</code></a></li>
	

	<li><a href="#traktor_slicer_create__"><code>traktor.slicer_create()</code></a></li>
	

</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>all these functions assume you have connected traktor and you have named it <code>&quot;traktor&quot;</code></p>
<pre>
 open_midi_device(&quot;traktor&quot;, &quot;traktor&quot;, &quot;Traktor to MM&quot;, &quot;MM to Traktor&quot;)
<p></pre>
<p>
</p>
<hr />
<h1><a name="traktor_hotcue__"><code>traktor.hotcue()</code></a></h1>
<p>add a hotcue with delete functionality</p>
<p>
</p>
<h2><a name="usage">Usage</a></h2>
<pre>
 traktor.hotcue(d, e, p, on_color, off_color, shift, deck, cuenum, callback)
<p></pre>
<table class='usage'><tr><td style='padding:4px;font-weight:bold;color:#888'>Param</td><td style='padding:4px;font-weight:bold;color:#888'>Description</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>d</td><td>device name in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>e</td><td>event name in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>p</td><td>page, use 0 for all pages in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>on_color</td><td>local led on color. can either be a single value or a table of 6 values based on the cue type to set different colors</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>off_color</td><td>local led off color</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>shift</td><td>the name of the modifier to switch between select/store and delete functionality</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>deck</td><td>a or b</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>cuenum</td><td>a number from 1 to 8</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>callback</td><td>optional function to call</td></tr></table>
<p>
</p>
<h2><a name="examples">Examples</a></h2>
<p>using colors defined for a launchpad, but the same code (with different colors defined) will work for any grid controller with led feedback on the pads</p>
<pre>
 -- first create a shift control that will set &quot;myshift&quot; on the &quot;arm&quot; 
 -- of the launchpad

 hold_modifier(&quot;grid&quot;, &quot;arm&quot;, 0, lp_hi_yellow, lp_lo_red, &quot;myshift&quot;)

 -- add 4 hotcues on row 1 of a grid controller

 traktor.hotcue(&quot;grid&quot;, &quot;1,0&quot;, 127, 0, &quot;myshift&quot;, &quot;a&quot;, 1)
 traktor.hotcue(&quot;grid&quot;, &quot;1,1&quot;, 127, 0, &quot;myshift&quot;, &quot;a&quot;, 2)
 traktor.hotcue(&quot;grid&quot;, &quot;1,2&quot;, 127, 0, &quot;myshift&quot;, &quot;a&quot;, 3)
 traktor.hotcue(&quot;grid&quot;, &quot;1,3&quot;, 127, 0, &quot;myshift&quot;, &quot;a&quot;, 4)

 -- define different colors for different cue types

 mycolors = { lp_hi_yellow, lp_hi_yellow, lp_hi_yellow, lp_hi_yellow, lp_hi_yellow, lp_hi_red }

 -- add 4 hotcues using those colors

 traktor.hotcue(&quot;grid&quot;, &quot;2,0&quot;, mycolors, 0, &quot;myshift&quot;, &quot;a&quot;, 1)
 traktor.hotcue(&quot;grid&quot;, &quot;2,1&quot;, mycolors, 0, &quot;myshift&quot;, &quot;a&quot;, 2)
 traktor.hotcue(&quot;grid&quot;, &quot;2,2&quot;, mycolors, 0, &quot;myshift&quot;, &quot;a&quot;, 3)
 traktor.hotcue(&quot;grid&quot;, &quot;2,3&quot;, mycolors, 0, &quot;myshift&quot;, &quot;a&quot;, 4)
<p></pre>
<p>
</p>
<hr />
<h1><a name="traktor_hotcues__"><code>traktor.hotcues()</code></a></h1>
<p>convenience function to add a block of hotcues, supports same options/features as <code>traktor.hotcue()</code></p>
<p>
</p>
<h2><a name="usage">Usage</a></h2>
<pre>
 traktor.hotcues(d, e, p, on_color, off_color, shift, deck, firstcuenum, callback)
<p></pre>
<table class='usage'><tr><td style='padding:4px;font-weight:bold;color:#888'>Param</td><td style='padding:4px;font-weight:bold;color:#888'>Description</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>d</td><td>device name in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>e</td><td>event names</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>p</td><td>page, use 0 for all pages in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>on_color</td><td>local led on color. can either be a single value or a table of 6 values based on the cue type to set different colors</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>off_color</td><td>local led off color</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>shift</td><td>the name of the modifier to switch between select/store and delete functionality</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>deck</td><td>a or b</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>firstcuenum</td><td>the first cue num to use</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>callback</td><td>optional function to call</td></tr></table>
<p>
</p>
<h2><a name="examples">Examples</a></h2>
<pre>
 -- first create a shift control that will set &quot;myshift&quot; on the &quot;arm&quot; 
 -- of the launchpad

 hold_modifier(&quot;grid&quot;, &quot;arm&quot;, 0, lp_hi_yellow, lp_lo_red, &quot;myshift&quot;)

 -- add 8 hotcues for deck A and 8 for deck B

 traktor.hotcue(&quot;grid&quot;, grid(&quot;1,0&quot;, &quot;2,3&quot;), 127, 0, &quot;myshift&quot;, &quot;a&quot;, 1)
 traktor.hotcue(&quot;grid&quot;, grid(&quot;1,4&quot;, &quot;2,7&quot;), 127, 0, &quot;myshift&quot;, &quot;b&quot;, 1)
<p></pre>
<p>
</p>
<hr />
<h1><a name="traktor_loops__"><code>traktor.loops()</code></a></h1>
<p>add a grid of buttons for selecting loop size and activating the loop.</p>
<p>normally deactivates when u release the button. if you pass in the <code>shift</code> parameter then pressing the shift followed by a loopsize will keep the loop active when you release</p>
<p>any changes within traktor of loop size and status will be reflected on the leds</p>
<p>
</p>
<h2><a name="usage">Usage</a></h2>
<pre>
 traktor.loops(d, e, p, on_color, off_color, shift, deck, sizes)
<p></pre>
<table class='usage'><tr><td style='padding:4px;font-weight:bold;color:#888'>Param</td><td style='padding:4px;font-weight:bold;color:#888'>Description</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>d</td><td>device name in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>e</td><td>event names, </td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>p</td><td>page, use 0 for all pages in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>on_color</td><td>local led on color</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>off_color</td><td>local led off color</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>deck</td><td>a or b</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>shift</td><td>the name of the modifier to switch between hold and toggle mode (optional)</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>sizes</td><td>the range of loop sizes to use (optional, defaults to 1/8 to 16)</td></tr></table>
<p>
</p>
<h2><a name="examples">Examples</a></h2>
<p>define a shift button that will be used to change between hold/toggle mode</p>
<pre>
 hold_modifier(&quot;grid&quot;, &quot;arm&quot;, 0, lp_hi_yellow, lp_lo_red, &quot;myshift&quot;)
<p></pre>
<p>manually define the list of 8 grid pad names</p>
<pre>
 traktor.loops(&quot;lp&quot;, 
    {&quot;6,0&quot;, &quot;6,1&quot;, &quot;6,2&quot;, &quot;6,3&quot;, &quot;7,0&quot;, &quot;7,1&quot;, &quot;7,2&quot;, &quot;7,3&quot;}, 
    0, lp_hi_green, lp_lo_green, &quot;a&quot;, &quot;myshift&quot;
 )
<p></pre>
<p>use the <code>grid()</code> function to generate the list of our 8 grid pad names. define 8 loop pads using default loop sizes:</p>
<pre>
 traktor.loops(&quot;lp&quot;, grid(&quot;6,0&quot;, &quot;7,3&quot;), 0, lp_hi_green, lp_lo_green, &quot;a&quot;, &quot;myshift&quot;)
<p></pre>
<p>define our own set of loop sizes to pass in and also define for deck b</p>
<pre>
 loopsizes = { &quot;/16&quot;, &quot;/8&quot;, &quot;/4&quot;, &quot;/2&quot;, &quot;1&quot;, &quot;2&quot;, &quot;4&quot;, &quot;8&quot; }

 traktor.loops(&quot;lp&quot;, grid(&quot;6,0&quot;, &quot;7,3&quot;), 0, lp_hi_green, lp_lo_green, &quot;a&quot;, &quot;myshift&quot;, loopsizes)
 traktor.loops(&quot;lp&quot;, grid(&quot;6,4&quot;, &quot;7,7&quot;), 0, lp_hi_green, lp_lo_green, &quot;b&quot;, &quot;myshift&quot;, loopsizes)
<p></pre>
<p>
</p>
<hr />
<h1><a name="traktor_slicer_enable__"><code>traktor.slicer_enable()</code></a></h1>
<p>enable a slicer at the current beat</p>
<p>
</p>
<h2><a name="usage">Usage</a></h2>
<pre>
 traktor.slicer_enable(sid, hotcue)
<p></pre>
<table class='usage'><tr><td style='padding:4px;font-weight:bold;color:#888'>Param</td><td style='padding:4px;font-weight:bold;color:#888'>Description</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>sid</td><td>slicer id, starting from 1 with the first call to <code>traktor.slicer_create()</code> and increments</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>hotcue</td><td>a hotcue number to jump to before enabling the slicer (optional)</td></tr></table>
<p>
</p>
<h2><a name="examples">Examples</a></h2>
<p>start slicer from current position</p>
<pre>
 sid = traktor.slicer_create(&quot;lp&quot;, grid(&quot;6,0&quot;, &quot;7,3&quot;), 1, &quot;a&quot;, lp_hi_red, lp_lo_red)
 traktor.slicer_enable(sid)
<p></pre>
<p>jump to hotcue 1 for the slicer dec (a) before starting the slicer</p>
<pre>
 sid = traktor.slicer_create(&quot;lp&quot;, grid(&quot;6,0&quot;, &quot;7,3&quot;), 1, &quot;a&quot;, lp_hi_red, lp_lo_red)
 traktor.slicer_enable(sid, 1)
<p></pre>
<p>
</p>
<hr />
<h1><a name="traktor_slicer_disable__"><code>traktor.slicer_disable()</code></a></h1>
<p>disable the specified slicer</p>
<p>
</p>
<h2><a name="usage">Usage</a></h2>
<pre>
 traktor.slicer_disable(sid)
<p></pre>
<table class='usage'><tr><td style='padding:4px;font-weight:bold;color:#888'>Param</td><td style='padding:4px;font-weight:bold;color:#888'>Description</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>sid</td><td>slicer id, starting from 1 with the first call to <code>traktor.slicer_create()</code> and increments</td></tr></table>
<p>
</p>
<h2><a name="examples">Examples</a></h2>
<pre>
 traktor.slicer_disable(1)
<p></pre>
<p>
</p>
<hr />
<h1><a name="traktor_slicer_toggle__"><code>traktor.slicer_toggle()</code></a></h1>
<p>create a toggle button to enable/disable the specified slicer</p>
<p>
</p>
<h2><a name="usage">Usage</a></h2>
<pre>
 traktor.slicer_toggle[d, e, p, on_color, off_color, sid, [name], callback])
<p></pre>
<table class='usage'><tr><td style='padding:4px;font-weight:bold;color:#888'>Param</td><td style='padding:4px;font-weight:bold;color:#888'>Description</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>d</td><td>device name in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>e</td><td>event names, </td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>p</td><td>page, use 0 for all pages in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>on_color</td><td>local led on color</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>off_color</td><td>local led off color</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>sid</td><td>slicer id, starting from 1 with the first call to <code>traktor.slicer_create()</code> and increments</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>name</td><td>name that can be used via get(name) to get the current slicer status (optional, default <code>nil</code>)</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>callback</td><td>function to be called on slicer status change (optional)</td></tr></table>
<p>
</p>
<h2><a name="examples">Examples</a></h2>
<pre>
 sid = traktor.slicer_create(&quot;lp&quot;, grid(&quot;6,0&quot;, &quot;7,3&quot;), 1, &quot;a&quot;, lp_hi_red, lp_lo_red)
 traktor.slicer_toggle(&quot;lp&quot;, &quot;trkon&quot;, lp_hi_yellow, lp_lo_yellow, sid, &quot;slicer_a_status&quot;)
<p></pre>
<p>
</p>
<hr />
<h1><a name="traktor_slicer_loop_toggle__"><code>traktor.slicer_loop_toggle()</code></a></h1>
<p>create a toggle button to enable/disable the specified slicer</p>
<p>
</p>
<h2><a name="usage">Usage</a></h2>
<pre>
 traktor.slicer_loop_toggle[d, e, p, on_color, off_color, sid, [name], callback])
<p></pre>
<table class='usage'><tr><td style='padding:4px;font-weight:bold;color:#888'>Param</td><td style='padding:4px;font-weight:bold;color:#888'>Description</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>d</td><td>device name in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>e</td><td>event names, </td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>p</td><td>page, use 0 for all pages in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>on_color</td><td>local led on color</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>off_color</td><td>local led off color</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>sid</td><td>slicer id, starting from 1 with the first call to <code>traktor.slicer_create()</code> and increments</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>name</td><td>name that can be used via get(name) to get the current slicer status (optional, default <code>nil</code>)</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>callback</td><td>function to be called on slicer status change (optional)</td></tr></table>
<p>
</p>
<h2><a name="examples">Examples</a></h2>
<pre>
 sid = traktor.slicer_create(&quot;lp&quot;, grid(&quot;6,0&quot;, &quot;7,3&quot;), 1, &quot;a&quot;, lp_hi_red, lp_lo_red)
 traktor.slicer_loop_toggle(&quot;lp&quot;, &quot;trkon&quot;, lp_hi_yellow, lp_lo_yellow, sid, &quot;slicer_a_loopstatus&quot;)
<p></pre>
<p>
</p>
<hr />
<h1><a name="traktor_slicer_create__"><code>traktor.slicer_create()</code></a></h1>
<p>create a twitch style slicer on a set of pads with led feedback</p>
<p>
</p>
<h2><a name="usage">Usage</a></h2>
<pre>
 traktor.slicer_create(d, pads, p, deck, on_color, off_color)
<p></pre>
<table class='usage'><tr><td style='padding:4px;font-weight:bold;color:#888'>Param</td><td style='padding:4px;font-weight:bold;color:#888'>Description</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>d</td><td>device name in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>pads</td><td>the pads (event names) to assign the slicer to</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>p</td><td>page, use 0 for all pages in</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>deck</td><td>a or b</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>on_color</td><td>local led on color</td></tr>
<tr><td style='color:#44f;padding-left:16px;padding-right:4px'>off_color</td><td>local led off color</td></tr></table>
<p>return value is the slicer id, starting from 1 with the first call to <code>traktor.slicer_create()</code> and increments</p>
<p>
</p>
<h2><a name="examples">Examples</a></h2>
<pre>
 traktor.slicer_create(&quot;lp&quot;, grid(&quot;6,0&quot;, &quot;7,3&quot;), 1, &quot;a&quot;, lp_hi_red, lp_lo_red)
<p></pre>

</body>

</html>
